{"version":3,"sources":["Components/Button.js","Components/ContactForm.js","Components/Contacts.js","Components/Filter.js","Components/Notification.js","Services/contacts.js","App.js","index.js"],"names":["Button","props","onClick","handleClick","text","ContactForm","newName","handleNameChange","newNumber","handleNumberChange","addPerson","type","value","onChange","Contacts","filteredContacts","deleteContact","map","contact","name","number","id","Filter","query","handleSearchChange","Notification","message","className","baseUrl","a","axios","get","request","data","newContact","post","put","delete","getAll","create","update","App","useState","persons","setPersons","contactFilter","setNewContactFilter","setNewName","setNewNumber","newSearch","setNewSearch","setMessage","event","preventDefault","newPerson","person","searchPeople","window","confirm","contactsService","updatedContact","concat","errorMessage","response","error","useEffect","contacts","console","log","getContacts","length","setTimeout","indexOf","keyword","target","filter","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d7ec950f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Button = (props) => (\r\n  <button onClick={props.handleClick}>\r\n    {props.text}\r\n  </button>\r\n)\r\n\r\nexport default Button;","import React from 'react';\r\nimport Button from \"./Button\";\r\n\r\nconst ContactForm = ({newName, handleNameChange, newNumber, handleNumberChange, addPerson}) => {  \r\n      return (\r\n      <form>\r\n        <div>\r\n          Name: <input type=\"text\" value={newName} onChange={handleNameChange} />\r\n          Number: <input type=\"text\" value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n        <Button text=\"Add\" handleClick={addPerson}/>\r\n        </div>\r\n      </form>\r\n      )\r\n  }\r\n\r\nexport default ContactForm;","import React from 'react';\r\nimport Button from \"./Button\";\r\n\r\nconst Contacts = ({filteredContacts, deleteContact}) => {\r\n      return filteredContacts.map(contact => \r\n        (\r\n          <p key={contact.id}>{contact.name} {contact.number} <Button text=\"Delete\" handleClick={() => deleteContact(contact.name, contact.id)}/> </p>\r\n        ))\r\n    }\r\nexport default Contacts;","import React from 'react';\r\n\r\nconst Filter = ({query, handleSearchChange}) => {  \r\n    return (\r\n            <div>\r\n                Filter shown with: <input type=\"text\" value={query} onChange={handleSearchChange} />\r\n            </div>\r\n      )\r\n}\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <div className= {message.type} >\r\n        {message.text}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nasync function getAll () {\r\n    const request = await axios.get(baseUrl);\r\n    return request.data;\r\n}\r\n  \r\nasync function create (newContact)  {\r\n    const request =  await axios.post(baseUrl, newContact);\r\n    return request.data;\r\n}\r\n  \r\nasync function update (id, newContact) {\r\n    const request = await axios.put(`${baseUrl}/${id}`, newContact);\r\n    return request.data;\r\n}\r\n\r\nasync function deleteContact (id) {\r\n    const request = await axios.delete(`${baseUrl}/${id}`);\r\n    return request.data\r\n}\r\n  \r\n  export default { getAll, create, update, deleteContact }","import React, { useState, useEffect  } from 'react'\r\nimport ContactForm from \"./Components/ContactForm\";\r\nimport Contacts from \"./Components/Contacts\";\r\nimport Filter from \"./Components/Filter\";\r\nimport Notification from \"./Components/Notification\";\r\nimport contactsService from './Services/contacts'\r\nimport './App.css'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ contactFilter, setNewContactFilter ] = useState(persons)\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newSearch, setNewSearch ] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n  \r\n    async function getContacts() {\r\n      try {\r\n        const contacts = await contactsService.getAll();\r\n        setPersons(contacts);\r\n        setNewContactFilter(contacts);\r\n      } catch (error) {\r\n        console.log(`Failed to fetch contacts. Error: ${error}`)\r\n      }\r\n    }\r\n\r\n    getContacts();\r\n  },[persons.length])\r\n\r\n  \r\n  useEffect(() => {\r\n    setTimeout(() => {setMessage(null)}, 5000)\r\n  },[message !== null])\r\n\r\n  async function addPerson (event) {\r\n    try {\r\n      event.preventDefault();\r\n      const newPerson = {\r\n        name : newName,\r\n        number: newNumber\r\n      }\r\n      const person = searchPeople(newName);\r\n      if (person !== -1) {\r\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n          const updatedContact = await contactsService.update(persons[person].id, newPerson);\r\n          setPersons(persons.concat(updatedContact));\r\n          setMessage({text: `Updated ${newName}`, type: 'notification'}) \r\n        }\r\n      } else {\r\n        const newContact = await contactsService.create(newPerson);\r\n        setPersons(persons.concat(newContact));\r\n        setMessage({text: `Added ${newName}`, type: 'notification'}) \r\n    \r\n      }\r\n      setNewName('')\r\n      setNewNumber('')\r\n    } catch (error) {\r\n      let errorMessage = error;\r\n      if (error.response) {\r\n        errorMessage = error.response.data.error\r\n      }\r\n      setMessage({text: `Failed to add contact. Error: ${errorMessage}`, type: 'error'}) \r\n    }\r\n  }\r\n\r\n  async function deletePerson (name, id) {\r\n    try {\r\n        if (window.confirm(`Delete ${name}?`)) {\r\n          setPersons(persons.concat(await contactsService.deleteContact(id)))\r\n          setMessage({text: `Deleted ${name}`, type: 'notification'})     \r\n        }\r\n    } catch (error) {\r\n      setMessage({text: `Contact: \"${name}\" was already removed from server`, type: 'error'}) \r\n    }\r\n  }\r\n\r\n  const handleNameChange=(event)=>{\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange=(event)=>{\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchChange=(event)=>{\r\n       const keyword = event.target.value\r\n       setNewSearch(keyword)\r\n       const filter = !keyword.length ? persons: persons.filter(person => person.name.toLowerCase().includes(newSearch.toLowerCase()));\r\n       setNewContactFilter(filter);\r\n  }\r\n\r\n  const searchPeople = (name) => {\r\n      return persons.map(person => person.name).indexOf(name);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n        <Notification message={message} />\r\n        <Filter query={newSearch} handleSearchChange={handleSearchChange} />\r\n        <div>\r\n          <h3>Add New Contact</h3>\r\n          <ContactForm newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} addPerson={addPerson} />\r\n        </div>\r\n      <h3>Numbers</h3>\r\n      <Contacts filteredContacts={contactFilter} deleteContact={deletePerson}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}